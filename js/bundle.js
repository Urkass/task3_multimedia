!function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(){window.app=new o["default"]}var a=n(1),o=i(a);document.addEventListener("DOMContentLoaded",r)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=i(a),u=function s(){function e(e){e.preventDefault(),this.links.video=t+this.form.querySelector('[name="video"]').value,this.links.subtitles=t+this.form.querySelector('[name="subtitles"]').value,this.links.audio=t+this.form.querySelector('[name="audio"]').value,this.pagePlayer.classList.remove("page_hidden"),this.pageForm.classList.add("page_hidden"),this.player=new o["default"](this.links,this.pagePlayer)}r(this,s);var t="http://cors.io/?u=";this.form=document.querySelector(".panel__form"),this.pageForm=document.querySelector(".page_content_form"),this.pagePlayer=document.querySelector(".page_content_player"),this.links={video:"",subtitles:"",audio:""},this.form.addEventListener("submit",e.bind(this))};t["default"]=u},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(3),u=i(o),s=n(5),l=i(s),c=n(4),d=i(c),f=function(){function e(t,n){function i(e,t){function n(){l.drawImage(this.video.videoElement,0,0),i.call(this),o()}function i(){this.video.videoElement.currentTime>=this.subtitles.data[this.subtitles.index].endTime?(this.subtitles.flag=!1,a(),this.video.pause(),this.subtitles.index++,r.call(this,3e3),console.log(this.video.videoElement.currentTime)):this.subtitles.flag&&this.video.play()}function r(e){var t=this;setInterval(function(){t.subtitles.flag=!0},e)}function a(){l.fillStyle="#ffffaa",l.fillRect(0,0,s.width,s.height)}function o(){for(var e=l.getImageData(0,0,s.width,s.height),t=e.data,n=0;n<t.length;n+=4){var i=t[n],r=t[n+1],a=t[n+2],o=3*i+4*r+a>>>3;t[n]=o,t[n+1]=o,t[n+2]=o}e.data.set(t),l.putImageData(e,0,0)}function u(){window.setTimeout(u.bind(this),62.5),n.call(this)}var s=document.getElementById("canvasOne"),l=s.getContext("2d");s.width=e,s.height=t,this.play(),u.call(this)}var a=this;r(this,e),this.pagePlayer=n,this.player=n.querySelector(".player"),this.playButton=this.player.querySelector(".player__play"),this.stopButton=this.player.querySelector(".player__stop"),this.video=new l["default"](t,this.pagePlayer),this.song=new u["default"](t.audio),this.subtitles=new d["default"](t.subtitles),this.video.videoElement.addEventListener("canplaythrough",function(){i.call(a,a.video.videoElement.videoWidth,a.video.videoElement.videoHeight)}),this.playButton.addEventListener("click",function(){a.play()}),this.stopButton.addEventListener("click",function(){a.pause()})}return a(e,[{key:"play",value:function(){this.video.play(),this.song.play()}},{key:"pause",value:function(){this.video.pause(),this.song.pause()}}]),e}();t["default"]=f},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t){n(this,e),this.link=t,this.audio=new Audio(t)}return i(e,[{key:"play",value:function(){this.audio.play()}},{key:"pause",value:function(){this.audio.pause()}}]),e}();t["default"]=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(6),u=i(o),s=function(){function e(t){function n(){var e=new XMLHttpRequest;if(e.open("GET",t,!1),e.send(),200===e.status)return u["default"].fromSrt(e.response)}r(this,e),this.link=t,this.data=n(),this.parseData(),this.index=0,this.flag=!1}return a(e,[{key:"parseData",value:function(){function e(e){e=e.replace(/,/g,".");var t=60*e.slice(0,2),n=60*(t+Number(e.slice(3,5))),i=n+Number(e.slice(6,12));return i}this.data.forEach(function(t){t.startTime=e(t.startTime),t.endTime=e(t.endTime)})}}]),e}();t["default"]=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,i){n(this,e),this.videoElement=document.createElement("video"),this.videoElement.setAttribute("crossorigin","anonymous"),this.videoDiv=document.createElement("div"),i.appendChild(this.videoDiv),this.videoDiv.appendChild(this.videoElement),this.videoDiv.setAttribute("style","display:none;"),this.videoElement.setAttribute("src",t.video),this.videoElement.muted=!0}return i(e,[{key:"play",value:function(){this.videoElement.play()}},{key:"pause",value:function(){this.videoElement.pause()}}]),e}();t["default"]=r},function(e,t,n){var i=function(){var e={};e.fromSrt=function(e,n){var i=!!n;e=e.replace(/\r/g,"");var r=/(\d+)\n(\d{2}:\d{2}:\d{2},\d{3}) --> (\d{2}:\d{2}:\d{2},\d{3})/g;e=e.split(r),e.shift();for(var a=[],o=0;o<e.length;o+=4)a.push({id:e[o].trim(),startTime:i?t(e[o+1].trim()):e[o+1].trim(),endTime:i?t(e[o+2].trim()):e[o+2].trim(),text:e[o+3].trim()});return a},e.toSrt=function(e){if(!e instanceof Array)return"";for(var t="",i=0;i<e.length;i++){var r=e[i];isNaN(r.startTime)||isNaN(r.endTime)||(r.startTime=n(parseInt(r.startTime,10)),r.endTime=n(parseInt(r.endTime,10))),t+=r.id+"\r\n",t+=r.startTime+" --> "+r.endTime+"\r\n",t+=r.text.replace("\n","\r\n")+"\r\n\r\n"}return t};var t=function(e){var t=/(\d+):(\d{2}):(\d{2}),(\d{3})/,n=t.exec(e);if(null===n)return 0;for(var i=1;i<5;i++)n[i]=parseInt(n[i],10),isNaN(n[i])&&(n[i]=0);return 36e5*n[1]+6e4*n[2]+1e3*n[3]+n[4]},n=function(e){var t=[36e5,6e4,1e3],n=[];for(var i in t){var r=(e/t[i]>>0).toString();r.length<2&&(r="0"+r),e%=t[i],n.push(r)}var a=e.toString();if(a.length<3)for(i=0;i<=3-a.length;i++)a="0"+a;return n.join(":")+","+a};return e}();e.exports=i}]);
//# sourceMappingURL=bundle.js.map